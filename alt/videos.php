<h1> Videos </h1><?phpif (isset($_POST["speichern"])) {    addVideo();} else {    if (isset($_POST["view"])) {        viewVideo();    } else {        if (isset($_POST["delete"])) {            removeVideo();        } else {            if (isset($_GET['videoid'])) {                viewVideo();            }        }    }}?><?php if (isLoggedIn() && hasCurrentUserRight("video")) { ?>    <script>        jQuery(document).ready(function () {            jQuery("button").click(function () {                jQuery("form.toggle").slideToggle("slow");            });        });    </script>    <center><button>Show/Hide Add Video Form</button></center>    <form name="videoadd" method="post" action="<?php echo $_SERVER["PHP_SELF"] . "?" . $_SERVER['QUERY_STRING']; ?>" class="toggle" style="display: none">        <table align=center cellspacing="0" border="0">            <tr>                <td> URL:</td>                <td> <input type="Text" name="url" value="" SIZE="40" MAXLENGTH="300"> </td>            </tr><tr>                <td> Embeded:</td>                <td> <input type="Text" name="embeded" value="" SIZE="40" MAXLENGTH="1000"> </td>            </tr><tr>                <td> Ãœberschrift:</td>                <td> <input type="Text" name="headline" value="" SIZE="40" MAXLENGTH="70"> </td>            </tr><tr>                <td> Jahr:</td>                <td> <input type="Text" name="year" value="" SIZE="40" MAXLENGTH="50"> </td>            </tr><tr>                <td></td>                <td>                    <input type=submit name="speichern" value="      Absenden      ">                    <input type=reset                value="      L&ouml;schen       ">                </td>            </tr>        </table>    </form><?php } ?><?php$videos = getAllVideosSorted();if (isloggedin())    $currentUserid = getCurrentUserId();echo("<br>");echo("<table border=\"1\" align=\"center\" cellspacing=\"0\">");echo("<col width=\"60\">");echo("<col width=\"500\">");foreach ($videos as $video) {    echo("<tr><td>");    echo($video->getyear());    echo("</td><td>");    echo(utf8_encode($video->getheadline()));    echo("</td><td>");    echo("<form method=\"post\" action=\"" . $_SERVER["PHP_SELF"] . "?" . $_SERVER['QUERY_STRING'] . "\" > <input type=\"hidden\" name=\"videoid\" value=\"" . $video->getVideoID() . "\"> <input type=submit name=\"view\" value=\"view\"> </form>");    echo("</td></tr>");}echo("</table>");?><?phpfunction addVideo() {    if (isLoggedIn()) {        if (hasCurrentUserRight("video")) {            storeVideo($_POST["url"], $_POST["embeded"], $_POST["headline"], $_POST["year"]);        } else {            echo("<h2>Du hast nicht genug Rechte zum einstellen eines Videos!!");        }    } else {        echo("<h2>Du musst eingeloggt sein!!");    }}function viewVideo() {    if (isset($_POST["videoid"])) {        $videoData = getVideoByID($_POST["videoid"]);    } else {        if (isset($_GET['videoid'])) {            $videoData = getVideoByID($_GET['videoid']);        }    }    echo("<table border=\"1\" align=\"center\" cellspacing=\"0\" border=\"0\">");    echo("<tr><td>" . $videoData->getheadline() . "</td></tr>");    echo("<tr><td>" . $videoData->getembeded() . "</td></tr>");    echo("<tr><td> <a href=\"" . $videoData->geturl() . "\"> " . $videoData->geturl() . " </a></td></tr>");    echo("<tr><td>eingestellt am: " . $videoData->getdatum() . "</td></tr>");    $userData = getFullUserByID($videoData->getuserid());    echo("<tr><td>eingestellt von: " . $userData->getFirstname() . " " . $userData->getSurname() . "</td></tr>");    echo("</table>");    echo("<br>");}function removeVideo() {    $video = getVideoByID($_POST["videoid"]);    if ((isLoggedIn()) && (($video->getuserid() == getCurrentUserId()) || (hasCurrentUserRight("admin")))) {        deleteVideo($_POST["videoid"]);    }}?>